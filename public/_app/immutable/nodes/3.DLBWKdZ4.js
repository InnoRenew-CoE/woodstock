import{a as g,t as b}from"../chunks/disclose-version.fXNaj69r.js";import{t as k,g as n,c as l,b as p,d as L,r as d,p as O,a as W,e as y,s as w}from"../chunks/runtime.C8AwBc5t.js";import{s as j,i as B}from"../chunks/if.DmhFAkFQ.js";import{d as D}from"../chunks/events.YhuPyEO-.js";import{t as M,a as A}from"../chunks/index.CL-6Ky9l.js";import{p as x}from"../chunks/misc.y5E7LmGA.js";import{o as G}from"../chunks/index-client.Bj5aEFiZ.js";import{g as E}from"../chunks/entry.UUAi7Yex.js";import{P as N}from"../chunks/public.VJoidTgG.js";import{v as H}from"../chunks/index.BHoqOmvp.js";import{M as K,r as T,a as P,s as Q}from"../chunks/MaskedIcon.Uo_VWxHB.js";import{a as V,b as X}from"../chunks/input.Y_bnVb-A.js";import{p as m}from"../chunks/props.Dh3Lg4Sc.js";import"../chunks/SuggestiveInput.DlZMK5yc.js";import{p as h}from"../chunks/notifications.C1upLsv_.js";var Z=b('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function $(f,e){m(e,"class",3,"");let s=m(e,"checked",15);var a=Z(),t=l(a);T(t);var o=p(t,2),c=L(()=>` ${(s()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),u=L(()=>`size-4 ${(s()?"bg-secondary":"bg-black")??""}`);K(o,{get src(){return n(c)},get class(){return n(u)}});var r=p(o);d(a),k(()=>j(r,` ${e.label??""}`)),V(t,s),g(f,a)}var ee=b('<div class="flex gap-2 items-center bg-white hover:border-secondary border border-background focus:shadow rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function S(f,e){let s=m(e,"type",3,"text"),a=m(e,"class",3,""),t=m(e,"value",15);m(e,"icon",3,void 0);let o=m(e,"required",3,!1);var c=ee(),u=l(c);B(u,q=>{});var r=p(u,2);T(r),d(c),k(()=>{r.required=o(),P(r,"type",s()),P(r,"placeholder",e.placeholder),Q(r,`w-full px-5 py-2 outline-none transition-all ease-in-out rounded-r-lg placeholder:text-primary/30 bg-transparent ${a()??""} svelte-33uumo`)}),X(r,t),g(f,c)}async function te(f,e,s,a){const t={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n(e),password:n(s)})};n(a)?(await fetch(`${N}/register`,t)).status===200?(h({body:"You'll receive an email with newly generated password.",title:"Request successful"}),y(a,!1)):h({body:"An error occured, please notify us at woodstock@innorenew.eu",title:"Request failed"}):(await fetch(`${N}/login`,t)).status===200?(h({body:"Succesfull login",title:"Welcome"}),await E("/app")):h({body:"Incorrect login credentials",title:"Failure to login"})}var ae=b("<div><!></div>"),re=b(`<div><p class="bg-white/70 p-3 rounded-lg shadow-sm border border-white text-secondary/80">You'll receive an email with password for you to access the app.</p></div>`),se=b('<div class="flex items-center justify-center h-full p-10"><div class="grid gap-2 max-w-[400px] w-[80%] h-min"><form class="grid p-8 px-10 glass gap-5 bg-white/60"><div class="flex gap-3 items-center font-roboto font-semibold text-2xl text-black">Login <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <div><div class="text-sm pb-1 font-nunito text-primary/30">E-mail</div> <!></div> <!> <!> <button type="submit" class="transition-all hover:bg-primary cursor-pointer bg-primary border border-accent/80 rounded-lg p-2 text-white grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><div class="row-start-1 col-start-2"> </div></button></form></div></div>');function _e(f,e){O(e,!0);let s=w(""),a=w(""),t=w(!1);G(async()=>{await H()===200&&await E("/app")});var o=se(),c=l(o),u=l(c),r=p(l(u),2),q=p(l(r),2);S(q,{required:!0,placeholder:"you@organisation.eu",type:"email",icon:"../email.svg",get value(){return n(s)},set value(i){y(s,x(i))}}),d(r);var I=p(r,2);$(I,{label:"Request access",get checked(){return n(t)},set checked(i){y(t,x(i))}});var R=p(I,2);{var U=i=>{var v=ae(),F=l(v);S(F,{required:!0,placeholder:"*****",type:"password",icon:"../password.svg",get value(){return n(a)},set value(J){y(a,x(J))}}),d(v),M(1,v,()=>A),g(i,v)},Y=i=>{var v=re();M(1,v,()=>A),g(i,v)};B(R,i=>{n(t)?i(Y,!1):i(U)})}var _=p(R,2);_.__click=[te,s,a,t];var C=l(_),z=l(C,!0);d(C),d(_),d(u),d(c),d(o),k(()=>j(z,n(t)?"Request":"Login")),g(f,o),W()}D(["click"]);export{_e as component};
