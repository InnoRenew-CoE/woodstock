import{a as y,t as h}from"../chunks/disclose-version.DhCj0zca.js";import{t as C,g as r,c as l,b as u,d as R,r as d,p as D,a as G,e as x,s as q}from"../chunks/runtime.BNiZENzE.js";import{p as g,a as B,i as O}from"../chunks/props.ubv3QNbn.js";import{d as H,p as I}from"../chunks/events.CG0BT_pH.js";import{M,r as T,a as j,s as K,t as z,f as A}from"../chunks/index.5w0jbpJt.js";import{o as Q}from"../chunks/index-client.CO5LStFK.js";import{g as U}from"../chunks/entry.BSZ8hcPo.js";import{P as L}from"../chunks/public.BxSvzgoa.js";import{v as V}from"../chunks/index.BEF6xP85.js";import{b as X,a as Z}from"../chunks/input.CQpqvlZf.js";import{p as w}from"../chunks/notifications.Ce6HBQ0q.js";var $=h('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function ee(f,a){g(a,"class",3,"");let s=g(a,"checked",15);var t=$(),e=l(t);T(e);var o=u(e,2),m=R(()=>` ${(s()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),c=R(()=>`size-4 ${(s()?"bg-secondary":"bg-black")??""}`);M(o,{get src(){return r(m)},get class(){return r(c)}});var p=u(o);d(t),C(()=>B(p,` ${a.label??""}`)),X(e,s),y(f,t)}var ae=h('<div class="flex items-center bg-white hover:border-secondary border rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function N(f,a){let s=g(a,"type",3,"text"),t=g(a,"class",3,""),e=g(a,"value",15),o=g(a,"icon",3,void 0),m=g(a,"required",3,!1);var c=ae(),p=l(c);{var _=b=>{M(b,{get src(){return o()},class:"size-3 bg-primary ml-3 opacity-30 group-focus-within:opacity-100 group-hover:opacity-100 group-hover:bg-secondary group-focus-within:bg-secondary"})};O(p,b=>{o()&&b(_)})}var n=u(p,2);T(n),d(c),C(()=>{n.required=m(),j(n,"type",s()),j(n,"placeholder",a.placeholder),K(n,`w-full px-2 py-2 outline-none text-secondary transition-all ease-in-out rounded-md placeholder:text-primary/40 bg-transparent group-hover:placeholder:text-secondary ${t()??""} svelte-ke5kr9`)}),Z(n,e),y(f,c)}async function te(f,a,s,t){const e={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r(a),password:r(s)})};r(t)?(await fetch(`${L}/register`,e)).status===200?(w({body:"You'll receive an email with newly generated password.",title:"Request successful"}),x(t,!1)):w({body:"An error occured, please notify us at woodstock@innorenew.eu",title:"Request failed"}):(await fetch(`${L}/login`,e)).status===200?(w({body:"Succesfull login",title:"Welcome"}),await U("/app")):w({body:"Incorrect login credentials",title:"Failure to login"})}var re=h("<div><!></div>"),se=h(`<div><p class="text-secondary bg-secondary/5 border border-secondary p-3 rounded text-sm">You'll receive an email with password for you to access the app.</p></div>`),oe=h('<div class="flex justify-center h-full p-10"><div class="grid gap-2 max-w-[400px] w-[80%] h-min"><form class="grid p-5 px-8 rounded-xl border gap-5 bg-dark-background"><div class="flex gap-3 items-center text-lg justify-center">WoodStock <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <!> <!> <!> <button type="submit" class="primary-button grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><!> <div class="row-start-1 col-start-2"> </div></button></form></div></div>');function be(f,a){D(a,!0);let s=q(""),t=q(""),e=q(!1);Q(async()=>{await V()===200&&await U("/app")});var o=oe(),m=l(o),c=l(m),p=u(l(c),2);N(p,{required:!0,placeholder:"Organisation e-mail",type:"email",icon:"../email.svg",get value(){return r(s)},set value(i){x(s,I(i))}});var _=u(p,2);ee(_,{label:"Request access",get checked(){return r(e)},set checked(i){x(e,I(i))}});var n=u(_,2);{var b=i=>{var v=re(),F=l(v);N(F,{required:!0,placeholder:"Password",type:"password",icon:"../password.svg",get value(){return r(t)},set value(J){x(t,I(J))}}),d(v),z(1,v,()=>A),y(i,v)},W=i=>{var v=se();z(1,v,()=>A),y(i,v)};O(n,i=>{r(e)?i(W,!1):i(b)})}var k=u(n,2);k.__click=[te,s,t,e];var P=l(k),Y=R(()=>`../${(r(e)?"contact":"login")??""}.svg`);M(P,{get src(){return r(Y)},class:"size-4 group-hover:translate-x-full bg-white transition duration-200 ease-in-out"});var S=u(P,2),E=l(S,!0);d(S),d(k),d(c),d(m),d(o),C(()=>B(E,r(e)?"Request":"Login")),y(f,o),G()}H(["click"]);export{be as component};
