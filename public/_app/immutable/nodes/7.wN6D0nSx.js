import{a as x,t as m}from"../chunks/disclose-version.B30PygmH.js";import{p as C,b as E,a as F,e as M,g as r,c as s,s as d,r as e,t as _}from"../chunks/runtime.CRowtBbc.js";import{s as v}from"../chunks/render.BHNpU5Bx.js";import{e as u,i as j}from"../chunks/each.Csjyd5Lk.js";import{p as D}from"../chunks/events.BqHwmKXL.js";import{o as R}from"../chunks/index-client.CjYSU9sf.js";import{P as $}from"../chunks/public.CD978DOo.js";var k=m('<div class="glass px-3 py-1 bg-purple-100/60 text-purple-500 border-purple-200"> </div>'),q=m('<div class="transition-all grid grid-cols-[1fr_1fr_10%_5%] gap-x-3 rounded-lg hover:bg-secondary/5 hover:border-secondary/50 border border-transparent py-2"><div class="px-10 flex items-center"> </div> <div class="flex items-center gap-3"></div> <div class="flex justify-center"><div class="glass w-min px-3 py-1 bg-indigo-100/50 text-indigo-500 border-indigo-200 whitespace-nowrap"> </div></div> <div class="flex items-center justify-center"><div class="glass w-min px-3 py-1 shadow-2xs bg-amber-100/50 text-amber-600 border-amber-200 whitespace-nowrap lowercase"> </div></div></div>'),z=m('<div class="glass p-5"><div class="w-full grid gap-3"><div id="header" class="grid gap-3 grid-cols-[1fr_1fr_10%_5%] text-base px-1"><div class="glass hover:bg-white/60 px-4 py-1">File</div> <div class="glass hover:bg-white/60 px-4 py-1">Tags</div> <div class="glass hover:bg-white/60 px-4 py-1 text-center">Date</div> <div class="glass hover:bg-white/60 px-4 py-1 text-center">Type</div></div> <div id="body" class="glass py-5 grid max-h-[600px] overflow-auto px-2"></div></div></div>');function V(L,P){C(P,!0);let i=E(D([]));R(async()=>{const p=await fetch(`${$}/api/files`);M(i,D(await p.json())),r(i).sort((a,t)=>a.date-t.date);for(let a of r(i))a.date=new Date(a.date)});var o=z(),f=s(o),b=d(s(f),2);u(b,21,()=>r(i),j,(p,a)=>{var t=q(),l=s(t),A=s(l,!0);e(l);var c=d(l,2);u(c,21,()=>r(a).tags,j,(S,T)=>{var n=k(),U=s(n,!0);e(n),_(()=>v(U,r(T))),x(S,n)}),e(c);var g=d(c,2),h=s(g),B=s(h,!0);_(()=>v(B,r(a).date.toLocaleDateString())),e(h),e(g);var y=d(g,2),w=s(y),I=s(w,!0);e(w),e(y),e(t),_(()=>{v(A,r(a).name),v(I,r(a).file_type)}),x(p,t)}),e(b),e(f),e(o),x(L,o),F()}export{V as component};
