import{a as b,t as h}from"../chunks/disclose-version.B30PygmH.js";import{t as q,g as i,c as d,s as p,d as S,r as c,p as O,a as D,e as g,b as y}from"../chunks/runtime.CRowtBbc.js";import{s as P}from"../chunks/render.BHNpU5Bx.js";import{i as j}from"../chunks/if.C2cCH_Za.js";import{d as G,p as _}from"../chunks/events.BqHwmKXL.js";import{t as L,a as M}from"../chunks/index.DCPZGT8F.js";import{b as H}from"../chunks/window.nNcBm8Oy.js";import{o as K}from"../chunks/index-client.CjYSU9sf.js";import{g as B}from"../chunks/entry.C7F681j2.js";import{P as z}from"../chunks/public.CD978DOo.js";import{v as Q}from"../chunks/index.bULXYJUV.js";import{M as V,r as E,s as A,a as X}from"../chunks/MaskedIcon.8PnPh0_h.js";import{a as Z,b as $}from"../chunks/input.iYUWG3yA.js";import{p as m}from"../chunks/props.C08js9P0.js";import"../chunks/SuggestiveInput.DAblwn8o.js";import{p as x}from"../chunks/notifications.D2JqBFx3.js";var ee=h('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function te(f,e){m(e,"class",3,"");let n=m(e,"checked",15);var a=ee(),r=d(a);E(r);var t=p(r,2),l=S(()=>` ${(n()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),u=S(()=>`size-4 ${(n()?"bg-secondary":"bg-black")??""}`);V(t,{get src(){return i(l)},get class(){return i(u)}});var s=p(t);c(a),q(()=>P(s,` ${e.label??""}`)),Z(r,n),b(f,a)}var ae=h('<div class="flex gap-2 items-center bg-white hover:border-secondary border border-background focus:shadow rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function N(f,e){let n=m(e,"type",3,"text"),a=m(e,"class",3,""),r=m(e,"value",15);m(e,"icon",3,void 0);let t=m(e,"required",3,!1);var l=ae(),u=d(l);j(u,w=>{});var s=p(u,2);E(s),c(l),q(()=>{s.required=t(),A(s,"type",n()),A(s,"placeholder",e.placeholder),X(s,`w-full px-5 py-2 outline-none transition-all ease-in-out rounded-r-lg placeholder:text-primary/30 bg-transparent ${a()??""} svelte-33uumo`)}),$(s,r),b(f,l)}async function re(f,e,n,a){const r={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i(e),password:i(n)})};if(i(a))(await fetch(`${z}/register`,r)).status===200?(x({body:"You'll receive an email with newly generated password.",title:"Request successful"}),g(a,!1)):x({body:"An error occured, please notify us at woodstock@innorenew.eu",title:"Request failed"});else{const t=await fetch(`${z}/login`,r);t.status===200?(x({body:"Succesfull login",title:"Welcome"}),await B("/app"),console.log(t.headers.getSetCookie())):x({body:"Incorrect login credentials",title:"Failure to login"})}}var oe=h("<div><!></div>"),se=h(`<div><p class="bg-white/70 p-3 rounded-lg shadow-sm border border-white text-secondary/80">You'll receive an email with password for you to access the app.</p></div>`),ie=h('<div class="flex sm:items-center justify-center h-full p-10"><div class="grid gap-2 max-w-[500px] w-full sm:w-[80%] h-min"><form class="grid p-8 px-10 glass gap-5 bg-white/60"><div class="flex gap-3 items-center font-roboto font-semibold text-2xl text-black">Login <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <div><div class="text-sm pb-1 font-nunito text-primary/30">E-mail</div> <!></div> <!> <!> <button type="submit" class="transition-all hover:bg-secondary/80 hover:border-secondary cursor-pointer bg-primary border border-accent/80 rounded-lg p-2 text-white grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><div class="row-start-1 col-start-2"> </div></button></form></div></div>');function ke(f,e){O(e,!0);let n=y(0),a=y(""),r=y(""),t=y(!1);K(async()=>{await Q()===200&&await B("/app")});var l=ie(),u=d(l),s=d(u),w=p(d(s),2),T=p(d(w),2);N(T,{required:!0,placeholder:"you@organisation.eu",type:"email",icon:"../email.svg",get value(){return i(a)},set value(o){g(a,_(o))}}),c(w);var I=p(w,2);te(I,{label:"Request access",get checked(){return i(t)},set checked(o){g(t,_(o))}});var C=p(I,2);{var U=o=>{var v=oe(),F=d(v);N(F,{required:!0,placeholder:"*****",type:"password",icon:"../password.svg",get value(){return i(r)},set value(J){g(r,_(J))}}),c(v),L(1,v,()=>M),b(o,v)},W=o=>{var v=se();L(1,v,()=>M),b(o,v)};j(C,o=>{i(t)?o(W,!1):o(U)})}var k=p(C,2);k.__click=[re,a,r,t];var R=d(k),Y=d(R,!0);c(R),c(k),c(s),c(u),c(l),q(()=>P(Y,i(t)?"Request":"Login")),H("innerWidth",o=>g(n,_(o))),b(f,l),D()}G(["click"]);export{ke as component};
