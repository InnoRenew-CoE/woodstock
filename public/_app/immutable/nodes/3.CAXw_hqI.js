import{a as h,t as y}from"../chunks/disclose-version.CpqNZLvn.js";import{t as C,s as u,g as t,c,d as R,r as d,p as D,a as G,e as x,b as q}from"../chunks/runtime.B46tO8CP.js";import{s as B,i as O}from"../chunks/if.D03PM9BA.js";import{d as H}from"../chunks/events.CwE277FR.js";import{t as j,f as z}from"../chunks/index.CuMXLMZ8.js";import{p as I}from"../chunks/misc.CsnfvPJ4.js";import{o as K}from"../chunks/index-client.DCNN8hYU.js";import{g as T}from"../chunks/entry.BcRRZKlv.js";import{P as A}from"../chunks/public.VJoidTgG.js";import{v as Q}from"../chunks/index.BRh5ASk-.js";import{M,r as U,a as L,s as V}from"../chunks/MaskedIcon.CZhtreO7.js";import{b as X,a as Z}from"../chunks/input.D84psier.js";import{p as m}from"../chunks/props.BJfDFCul.js";import{p as w}from"../chunks/notifications.CLM3OIkR.js";var $=y('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function ee(f,r){m(r,"class",3,"");let s=m(r,"checked",15);var a=$(),e=c(a);U(e);var o=u(e,2),g=R(()=>` ${(s()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),l=R(()=>`size-4 ${(s()?"bg-secondary":"bg-black")??""}`);M(o,{get src(){return t(g)},get class(){return t(l)}});var p=u(o);d(a),C(()=>B(p,` ${r.label??""}`)),X(e,s),h(f,a)}var re=y('<div class="flex items-center bg-white hover:border-secondary border rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function N(f,r){let s=m(r,"type",3,"text"),a=m(r,"class",3,""),e=m(r,"value",15),o=m(r,"icon",3,void 0),g=m(r,"required",3,!1);var l=re(),p=c(l);{var _=b=>{M(b,{get src(){return o()},class:"size-3 bg-primary ml-3 opacity-30 group-focus-within:opacity-100 group-hover:opacity-100 group-hover:bg-secondary group-focus-within:bg-secondary"})};O(p,b=>{o()&&b(_)})}var n=u(p,2);U(n),d(l),C(()=>{n.required=g(),L(n,"type",s()),L(n,"placeholder",r.placeholder),V(n,`w-full px-2 py-2 outline-none transition-all ease-in-out rounded-md placeholder:text-primary/40 bg-transparent group-hover:placeholder:text-secondary ${a()??""} svelte-33uumo`)}),Z(n,e),h(f,l)}async function ae(f,r,s,a){const e={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t(r),password:t(s)})};t(a)?(await fetch(`${A}/register`,e)).status===200?(w({body:"You'll receive an email with newly generated password.",title:"Request successful"}),x(a,!1)):w({body:"An error occured, please notify us at woodstock@innorenew.eu",title:"Request failed"}):(await fetch(`${A}/login`,e)).status===200?(w({body:"Succesfull login",title:"Welcome"}),await T("/app")):w({body:"Incorrect login credentials",title:"Failure to login"})}var te=y("<div><!></div>"),se=y(`<div><p class="bg-secondary/5 border border-secondary p-3 rounded text-sm">You'll receive an email with password for you to access the app.</p></div>`),oe=y('<div class="flex justify-center h-full p-10"><div class="grid gap-2 max-w-[400px] w-[80%] h-min"><form class="grid p-5 px-8 rounded-xl border gap-5 bg-dark-background"><div class="flex gap-3 items-center text-lg justify-center">WoodStock <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <!> <!> <!> <button type="submit" class="primary-button grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><!> <div class="row-start-1 col-start-2"> </div></button></form></div></div>');function _e(f,r){D(r,!0);let s=q(""),a=q(""),e=q(!1);K(async()=>{await Q()===200&&await T("/app")});var o=oe(),g=c(o),l=c(g),p=u(c(l),2);N(p,{required:!0,placeholder:"Organisation e-mail",type:"email",icon:"../email.svg",get value(){return t(s)},set value(i){x(s,I(i))}});var _=u(p,2);ee(_,{label:"Request access",get checked(){return t(e)},set checked(i){x(e,I(i))}});var n=u(_,2);{var b=i=>{var v=te(),F=c(v);N(F,{required:!0,placeholder:"Password",type:"password",icon:"../password.svg",get value(){return t(a)},set value(J){x(a,I(J))}}),d(v),j(1,v,()=>z),h(i,v)},W=i=>{var v=se();j(1,v,()=>z),h(i,v)};O(n,i=>{t(e)?i(W,!1):i(b)})}var k=u(n,2);k.__click=[ae,s,a,e];var P=c(k),Y=R(()=>`../${(t(e)?"contact":"login")??""}.svg`);M(P,{get src(){return t(Y)},class:"size-4 group-hover:translate-x-full bg-white transition duration-200 ease-in-out"});var S=u(P,2),E=c(S,!0);d(S),d(k),d(l),d(g),d(o),C(()=>B(E,t(e)?"Request":"Login")),h(f,o),G()}H(["click"]);export{_e as component};
