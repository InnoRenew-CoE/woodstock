import{a as g,t as b}from"../chunks/disclose-version.DH-BQlow.js";import{t as k,g as l,c as n,s as u,d as L,r as d,p as O,a as W,e as y,b as _}from"../chunks/runtime.CcwmAM-d.js";import{s as j}from"../chunks/render.DTZvhm4W.js";import{i as A}from"../chunks/if.DXHVr7Lc.js";import{d as D,p as x}from"../chunks/events.B32aMe5-.js";import{t as M,f as P}from"../chunks/index.CN7QcmAH.js";import{o as G}from"../chunks/index-client.OmNVWMHD.js";import{g as B}from"../chunks/entry.D36VsPZi.js";import{P as S}from"../chunks/public.CD978DOo.js";import{v as H}from"../chunks/index.bULXYJUV.js";import{M as K,r as E,s as N,a as Q}from"../chunks/MaskedIcon.ICzUKyIO.js";import{a as V,b as X}from"../chunks/input.YmDjCN4Q.js";import{p as m}from"../chunks/props.BgWAryMo.js";import{p as h}from"../chunks/notifications.DQM-S8cS.js";var Z=b('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function $(f,e){m(e,"class",3,"");let o=m(e,"checked",15);var a=Z(),t=n(a);E(t);var r=u(t,2),c=L(()=>` ${(o()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),p=L(()=>`size-4 ${(o()?"bg-secondary":"bg-black")??""}`);K(r,{get src(){return l(c)},get class(){return l(p)}});var s=u(r);d(a),k(()=>j(s,` ${e.label??""}`)),V(t,o),g(f,a)}var ee=b('<div class="flex gap-2 items-center bg-white hover:border-secondary border border-background focus:shadow rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function Y(f,e){let o=m(e,"type",3,"text"),a=m(e,"class",3,""),t=m(e,"value",15);m(e,"icon",3,void 0);let r=m(e,"required",3,!1);var c=ee(),p=n(c);A(p,q=>{});var s=u(p,2);E(s),d(c),k(()=>{s.required=r(),N(s,"type",o()),N(s,"placeholder",e.placeholder),Q(s,`w-full px-5 py-2 outline-none transition-all ease-in-out rounded-r-lg placeholder:text-primary/30 bg-transparent ${a()??""} svelte-33uumo`)}),X(s,t),g(f,c)}async function te(f,e,o,a){const t={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l(e),password:l(o)})};if(l(a))(await fetch(`${S}/register`,t)).status===200?(h({body:"You'll receive an email with newly generated password.",title:"Request successful"}),y(a,!1)):h({body:"You're not on our whitelist. Please notify us at ewco@innorenew.eu",title:"Request failed"});else{const r=await fetch(`${S}/login`,t);r.status===200?(h({body:"Succesfull login",title:"Welcome"}),await B("/app"),console.log(r.headers.getSetCookie())):h({body:"Incorrect login credentials",title:"Failure to login"})}}var ae=b("<div><!></div>"),re=b(`<div><p class="bg-white/70 p-3 rounded-lg shadow-sm border border-white text-secondary/80">You'll receive an email with password for you to access the app.</p></div>`),se=b('<div class="flex sm:items-center justify-center h-full p-10"><div class="grid gap-2 max-w-[500px] w-full sm:w-[80%] h-min"><div class="grid p-8 px-10 glass gap-5 bg-white/60"><div class="flex gap-3 items-center font-roboto font-semibold text-2xl text-black">Login <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <div><div class="text-sm pb-1 font-nunito text-primary/30">E-mail</div> <!></div> <!> <!> <button type="submit" class="transition-all hover:bg-secondary/80 hover:border-secondary cursor-pointer bg-primary border border-accent/80 rounded-lg p-2 text-white grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><div class="row-start-1 col-start-2"> </div></button></div></div></div>');function ye(f,e){O(e,!0);let o=_(""),a=_(""),t=_(!1);G(async()=>{await H()===200&&await B("/app")});var r=se(),c=n(r),p=n(c),s=u(n(p),2),q=u(n(s),2);Y(q,{required:!0,placeholder:"you@organisation.eu",type:"email",icon:"../email.svg",get value(){return l(o)},set value(i){y(o,x(i))}}),d(s);var I=u(s,2);$(I,{label:"Request access",get checked(){return l(t)},set checked(i){y(t,x(i))}});var C=u(I,2);{var T=i=>{var v=ae(),F=n(v);Y(F,{required:!0,placeholder:"*****",type:"password",icon:"../password.svg",get value(){return l(a)},set value(J){y(a,x(J))}}),d(v),M(1,v,()=>P),g(i,v)},U=i=>{var v=re();M(1,v,()=>P),g(i,v)};A(C,i=>{l(t)?i(U,!1):i(T)})}var w=u(C,2);w.__click=[te,o,a,t];var R=n(w),z=n(R,!0);d(R),d(w),d(p),d(c),d(r),k(()=>j(z,l(t)?"Request":"Login")),g(f,r),W()}D(["click"]);export{ye as component};
