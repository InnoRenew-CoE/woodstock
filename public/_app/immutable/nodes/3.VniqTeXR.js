import{a as g,t as b}from"../chunks/disclose-version.63K3lu0i.js";import{t as k,g as l,c as n,b as p,d as L,r as d,p as O,a as W,e as y,s as w}from"../chunks/runtime.C8AwBc5t.js";import{s as j,i as B}from"../chunks/if.C11h_86w.js";import{d as D}from"../chunks/events.YhuPyEO-.js";import{t as M,a as S}from"../chunks/index.DODHKGVX.js";import{p as x}from"../chunks/misc.y5E7LmGA.js";import{o as G}from"../chunks/index-client.Bj5aEFiZ.js";import{g as E}from"../chunks/entry.B2kUV5sw.js";import{P as A}from"../chunks/public.VJoidTgG.js";import{v as H}from"../chunks/index.BHoqOmvp.js";import{M as K,r as T,a as N,s as Q}from"../chunks/MaskedIcon.LE04YoFn.js";import{a as V,b as X}from"../chunks/input.Y_bnVb-A.js";import{p as m}from"../chunks/props.Dh3Lg4Sc.js";import"../chunks/SuggestiveInput.BN9AMOrf.js";import{p as h}from"../chunks/notifications.C1upLsv_.js";var Z=b('<label class="select-none cursor-pointer rounded flex items-center gap-3"><input class="hidden" type="checkbox"> <!> </label>');function $(f,e){m(e,"class",3,"");let s=m(e,"checked",15);var a=Z(),t=n(a);T(t);var r=p(t,2),c=L(()=>` ${(s()?"./checkmark-selected-box.svg":"./checkmark-box.svg")??""}`),u=L(()=>`size-4 ${(s()?"bg-secondary":"bg-black")??""}`);K(r,{get src(){return l(c)},get class(){return l(u)}});var o=p(r);d(a),k(()=>j(o,` ${e.label??""}`)),V(t,s),g(f,a)}var ee=b('<div class="flex gap-2 items-center bg-white hover:border-secondary border border-background focus:shadow rounded-md group font-sans focus-within:border-secondary"><!> <input></div>');function P(f,e){let s=m(e,"type",3,"text"),a=m(e,"class",3,""),t=m(e,"value",15);m(e,"icon",3,void 0);let r=m(e,"required",3,!1);var c=ee(),u=n(c);B(u,q=>{});var o=p(u,2);T(o),d(c),k(()=>{o.required=r(),N(o,"type",s()),N(o,"placeholder",e.placeholder),Q(o,`w-full px-5 py-2 outline-none transition-all ease-in-out rounded-r-lg placeholder:text-primary/30 bg-transparent ${a()??""} svelte-33uumo`)}),X(o,t),g(f,c)}async function te(f,e,s,a){const t={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l(e),password:l(s)})};if(l(a))(await fetch(`${A}/register`,t)).status===200?(h({body:"You'll receive an email with newly generated password.",title:"Request successful"}),y(a,!1)):h({body:"An error occured, please notify us at woodstock@innorenew.eu",title:"Request failed"});else{const r=await fetch(`${A}/login`,t);r.status===200?(h({body:"Succesfull login",title:"Welcome"}),await E("/app"),console.log(r.headers.getSetCookie())):h({body:"Incorrect login credentials",title:"Failure to login"})}}var ae=b("<div><!></div>"),re=b(`<div><p class="bg-white/70 p-3 rounded-lg shadow-sm border border-white text-secondary/80">You'll receive an email with password for you to access the app.</p></div>`),oe=b('<div class="flex items-center justify-center h-full p-10"><div class="grid gap-2 max-w-[400px] w-[80%] h-min"><form class="grid p-8 px-10 glass gap-5 bg-white/60"><div class="flex gap-3 items-center font-roboto font-semibold text-2xl text-black">Login <span><img src="./info.svg" alt="Information" class="w-3"></span></div> <div><div class="text-sm pb-1 font-nunito text-primary/30">E-mail</div> <!></div> <!> <!> <button type="submit" class="transition-all hover:bg-primary cursor-pointer bg-primary border border-accent/80 rounded-lg p-2 text-white grid grid-cols-[1rem_auto_1rem] items-center gap-4 group"><div class="row-start-1 col-start-2"> </div></button></form></div></div>');function _e(f,e){O(e,!0);let s=w(""),a=w(""),t=w(!1);G(async()=>{await H()===200&&await E("/app")});var r=oe(),c=n(r),u=n(c),o=p(n(u),2),q=p(n(o),2);P(q,{required:!0,placeholder:"you@organisation.eu",type:"email",icon:"../email.svg",get value(){return l(s)},set value(i){y(s,x(i))}}),d(o);var I=p(o,2);$(I,{label:"Request access",get checked(){return l(t)},set checked(i){y(t,x(i))}});var C=p(I,2);{var U=i=>{var v=ae(),F=n(v);P(F,{required:!0,placeholder:"*****",type:"password",icon:"../password.svg",get value(){return l(a)},set value(J){y(a,x(J))}}),d(v),M(1,v,()=>S),g(i,v)},Y=i=>{var v=re();M(1,v,()=>S),g(i,v)};B(C,i=>{l(t)?i(Y,!1):i(U)})}var _=p(C,2);_.__click=[te,s,a,t];var R=n(_),z=n(R,!0);d(R),d(_),d(u),d(c),d(r),k(()=>j(z,l(t)?"Request":"Login")),g(f,r),W()}D(["click"]);export{_e as component};
