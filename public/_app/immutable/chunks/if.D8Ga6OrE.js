import{ai as T,N as H,aj as O,X as C,ak as E,w as c,m as N,o as L,x as h,P,al as V,am as Y,K as j,B as $,an as F,j as M,z as A,p as Z,l as v,C as q,a as z,$ as B,k as K,Z as U,H as W,v as X,y as w,A as I,ao as G}from"./runtime.Twxei6D9.js";import{b as J,c as S,h as g}from"./events.cLB7s__O.js";import{b as Q}from"./disclose-version.B8FhMCHa.js";const x=["touchstart","touchmove"];function ee(a){return x.includes(a)}let D=!0;function ne(a,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=r,a.nodeValue=r==null?"":r+"")}function ae(a,e){return k(a,e)}function ie(a,e){T(),e.intro=e.intro??!1;const r=e.target,o=v,f=h;try{for(var t=H(r);t&&(t.nodeType!==8||t.data!==O);)t=C(t);if(!t)throw E;c(!0),N(t),L();const l=k(a,{...e,anchor:t});if(h===null||h.nodeType!==8||h.data!==P)throw V(),E;return c(!1),l}catch(l){if(l===E)return e.recover===!1&&Y(),T(),j(r),c(!1),ae(a,e);throw l}finally{c(o),N(f)}}const _=new Map;function k(a,{target:e,anchor:r,props:o={},events:f,context:t,intro:l=!0}){T();var m=new Set,d=i=>{for(var s=0;s<i.length;s++){var n=i[s];if(!m.has(n)){m.add(n);var u=ee(n);e.addEventListener(n,g,{passive:u});var b=_.get(n);b===void 0?(document.addEventListener(n,g,{passive:u}),_.set(n,1)):_.set(n,b+1)}}};d($(J)),S.add(d);var p=void 0,y=F(()=>{var i=r??e.appendChild(M());return A(()=>{if(t){Z({});var s=B;s.c=t}f&&(o.$$events=f),v&&Q(i,null),D=l,p=a(i,o)||{},D=!0,v&&(q.nodes_end=h),t&&z()}),()=>{var u;for(var s of m){e.removeEventListener(s,g);var n=_.get(s);--n===0?(document.removeEventListener(s,g),_.delete(s)):_.set(s,n)}S.delete(d),i!==r&&((u=i.parentNode)==null||u.removeChild(i))}});return R.set(p,y),p}let R=new WeakMap;function oe(a,e){const r=R.get(a);return r?(R.delete(a),r(e)):Promise.resolve()}function fe(a,e,r=!1){v&&L();var o=a,f=null,t=null,l=G,m=r?U:0,d=!1;const p=(i,s=!0)=>{d=!0,y(s,i)},y=(i,s)=>{if(l===(l=i))return;let n=!1;if(v){const u=o.data===W;!!l===u&&(o=X(),N(o),c(!1),n=!0)}l?(f?w(f):s&&(f=A(()=>s(o))),t&&I(t,()=>{t=null})):(t?w(t):s&&(t=A(()=>s(o))),f&&I(f,()=>{f=null})),n&&c(!0)};K(()=>{d=!1,e(p),d||y(null,null)},m),v&&(o=h)}export{D as a,ie as h,fe as i,ae as m,ne as s,oe as u};
