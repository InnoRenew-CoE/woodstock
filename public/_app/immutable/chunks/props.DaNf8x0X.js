import{S as A,an as V,ao as W,a3 as m,ap as X,e as y,aq as D,ar as o,g as h,E as B,as as k,at as p,C as ee,G as ae,y as C,J as re,a6 as ne,K as te,L as ie,I as fe,M as U,P as Y,Q as z,R as G,N as se,a2 as Q,a7 as K,au as ue,z as le,av as _e,aw as ve,ax as de,ay as ce,i as $,az as oe,aA as be,B as j,aB as ge,a8 as ye,aC as he,aD as Pe,aE as me,d as H,f as Ee,aF as Re}from"./runtime.Bbhj79WZ.js";import{s as Ie,g as Se}from"./index.BA7-MmP5.js";function S(a,f=null,v){if(typeof a!="object"||a===null||A in a)return a;const u=p(a);if(u!==V&&u!==W)return a;var i=new Map,_=ee(a),b=m(0);_&&i.set("length",m(a.length));var P;return new Proxy(a,{defineProperty(s,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&X();var t=i.get(e);return t===void 0?(t=m(r.value),i.set(e,t)):y(t,S(r.value,P)),!0},deleteProperty(s,e){var r=i.get(e);if(r===void 0)e in s&&i.set(e,m(o));else{if(_&&typeof e=="string"){var t=i.get("length"),n=Number(e);Number.isInteger(n)&&n<t.v&&y(t,n)}y(r,o),Z(b)}return!0},get(s,e,r){var c;if(e===A)return a;var t=i.get(e),n=e in s;if(t===void 0&&(!n||(c=D(s,e))!=null&&c.writable)&&(t=m(S(n?s[e]:o,P)),i.set(e,t)),t!==void 0){var l=h(t);return l===o?void 0:l}return Reflect.get(s,e,r)},getOwnPropertyDescriptor(s,e){var r=Reflect.getOwnPropertyDescriptor(s,e);if(r&&"value"in r){var t=i.get(e);t&&(r.value=h(t))}else if(r===void 0){var n=i.get(e),l=n==null?void 0:n.v;if(n!==void 0&&l!==o)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return r},has(s,e){var l;if(e===A)return!0;var r=i.get(e),t=r!==void 0&&r.v!==o||Reflect.has(s,e);if(r!==void 0||B!==null&&(!t||(l=D(s,e))!=null&&l.writable)){r===void 0&&(r=m(t?S(s[e],P):o),i.set(e,r));var n=h(r);if(n===o)return!1}return t},set(s,e,r,t){var R;var n=i.get(e),l=e in s;if(_&&e==="length")for(var c=r;c<n.v;c+=1){var E=i.get(c+"");E!==void 0?y(E,o):c in s&&(E=m(o),i.set(c+"",E))}n===void 0?(!l||(R=D(s,e))!=null&&R.writable)&&(n=m(void 0),y(n,S(r,P)),i.set(e,n)):(l=n.v!==o,y(n,S(r,P)));var g=Reflect.getOwnPropertyDescriptor(s,e);if(g!=null&&g.set&&g.set.call(t,r),!l){if(_&&typeof e=="string"){var w=i.get("length"),N=Number(e);Number.isInteger(N)&&N>=w.v&&y(w,N+1)}Z(b)}return!0},ownKeys(s){h(b);var e=Reflect.ownKeys(s).filter(n=>{var l=i.get(n);return l===void 0||l.v!==o});for(var[r,t]of i)t.v!==o&&!(r in s)&&e.push(r);return e},setPrototypeOf(){k()}})}function Z(a,f=1){y(a,a.v+f)}function Te(a,f,v=!1){C&&re();var u=a,i=null,_=null,b=o,P=v?ne:0,s=!1;const e=(t,n=!0)=>{s=!0,r(n,t)},r=(t,n)=>{if(b===(b=t))return;let l=!1;if(C){const c=u.data===te;!!b===c&&(u=ie(),fe(u),U(!1),l=!0)}b?(i?Y(i):n&&(i=z(()=>n(u))),_&&G(_,()=>{_=null})):(_?Y(_):n&&(_=z(()=>n(u))),i&&G(i,()=>{i=null})),l&&U(!0)};ae(()=>{s=!1,f(e),s||r(null,null)},P),C&&(u=se)}let T=!1,F=Symbol();function Ae(a,f,v){const u=v[f]??(v[f]={store:null,source:Q(void 0),unsubscribe:K});if(u.store!==a&&!(F in v))if(u.unsubscribe(),u.store=a??null,a==null)u.source.v=void 0,u.unsubscribe=K;else{var i=!0;u.unsubscribe=Ie(a,_=>{i?u.source.v=_:y(u.source,_)}),i=!1}return a&&F in v?Se(a):h(u.source)}function De(a,f){return a.set(f),f}function Le(){const a={};function f(){ue(()=>{for(var v in a)a[v].unsubscribe();le(a,F,{enumerable:!1,value:!0})})}return[a,f]}function xe(){T=!0}function we(a){var f=T;try{return T=!1,[a(),T]}finally{T=f}}function J(a){for(var f=B,v=B;f!==null&&!(f.f&(oe|be));)f=f.parent;try{return j(f),a()}finally{j(v)}}function Ce(a,f,v,u){var M;var i=(v&ge)!==0,_=!ye||(v&he)!==0,b=(v&Pe)!==0,P=(v&Re)!==0,s=!1,e;b?[e,s]=we(()=>a[f]):e=a[f];var r=A in a||me in a,t=b&&(((M=D(a,f))==null?void 0:M.set)??(r&&f in a&&(d=>a[f]=d)))||void 0,n=u,l=!0,c=!1,E=()=>(c=!0,l&&(l=!1,P?n=$(u):n=u),n);e===void 0&&u!==void 0&&(t&&_&&_e(),e=E(),t&&t(e));var g;if(_)g=()=>{var d=a[f];return d===void 0?E():(l=!0,c=!1,d)};else{var w=J(()=>(i?H:Ee)(()=>a[f]));w.f|=ve,g=()=>{var d=h(w);return d!==void 0&&(n=void 0),d===void 0?n:d}}if(!(v&de))return g;if(t){var N=a.$$legacy;return function(d,I){return arguments.length>0?((!_||!I||N||s)&&t(I?g():d),d):g()}}var R=!1,q=!1,L=Q(e),O=J(()=>H(()=>{var d=g(),I=h(L);return R?(R=!1,q=!0,I):(q=!1,L.v=d)}));return i||(O.equals=ce),function(d,I){if(arguments.length>0){const x=I?h(O):_&&b?S(d):d;return O.equals(x)||(R=!0,y(L,x),c&&n!==void 0&&(n=x),$(()=>h(O))),d}return h(O)}}export{Ae as a,Ce as b,De as c,Te as i,xe as m,S as p,Le as s};
