import{aq as T,O as H,ar as Y,Y as k,as as E,x as c,o as A,v as L,y as h,Q as C,at as V,au as P,L as q,C as F,av as M,k as $,A as N,p as j,m as v,D as z,a as B,a0 as Q,l as U,_ as W,H as Z,w as G,z as w,B as I,an as J}from"./runtime.B46tO8CP.js";import{b as K,r as S,h as g}from"./events.CwE277FR.js";import{b as X}from"./disclose-version.CpqNZLvn.js";const x=["touchstart","touchmove"];function ee(a){return x.includes(a)}let D=!0;function ne(a,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=s,a.nodeValue=s==null?"":s+"")}function ae(a,e){return O(a,e)}function ie(a,e){T(),e.intro=e.intro??!1;const s=e.target,o=v,f=h;try{for(var t=H(s);t&&(t.nodeType!==8||t.data!==Y);)t=k(t);if(!t)throw E;c(!0),A(t),L();const l=O(a,{...e,anchor:t});if(h===null||h.nodeType!==8||h.data!==C)throw V(),E;return c(!1),l}catch(l){if(l===E)return e.recover===!1&&P(),T(),q(s),c(!1),ae(a,e);throw l}finally{c(o),A(f)}}const _=new Map;function O(a,{target:e,anchor:s,props:o={},events:f,context:t,intro:l=!0}){T();var m=new Set,d=i=>{for(var r=0;r<i.length;r++){var n=i[r];if(!m.has(n)){m.add(n);var u=ee(n);e.addEventListener(n,g,{passive:u});var b=_.get(n);b===void 0?(document.addEventListener(n,g,{passive:u}),_.set(n,1)):_.set(n,b+1)}}};d(F(K)),S.add(d);var p=void 0,y=M(()=>{var i=s??e.appendChild($());return N(()=>{if(t){j({});var r=Q;r.c=t}f&&(o.$$events=f),v&&X(i,null),D=l,p=a(i,o)||{},D=!0,v&&(z.nodes_end=h),t&&B()}),()=>{var u;for(var r of m){e.removeEventListener(r,g);var n=_.get(r);--n===0?(document.removeEventListener(r,g),_.delete(r)):_.set(r,n)}S.delete(d),i!==s&&((u=i.parentNode)==null||u.removeChild(i))}});return R.set(p,y),p}let R=new WeakMap;function oe(a,e){const s=R.get(a);return s?(R.delete(a),s(e)):Promise.resolve()}function fe(a,e,s=!1){v&&L();var o=a,f=null,t=null,l=J,m=s?W:0,d=!1;const p=(i,r=!0)=>{d=!0,y(r,i)},y=(i,r)=>{if(l===(l=i))return;let n=!1;if(v){const u=o.data===Z;!!l===u&&(o=G(),A(o),c(!1),n=!0)}l?(f?w(f):r&&(f=N(()=>r(o))),t&&I(t,()=>{t=null})):(t?w(t):r&&(t=N(()=>r(o))),f&&I(f,()=>{f=null})),n&&c(!0)};U(()=>{d=!1,e(p),d||y(null,null)},m),v&&(o=h)}export{D as a,ie as h,fe as i,ae as m,ne as s,oe as u};
