import{l as Z,k as R,G as H,E as V,T as z,U as W,F as X,D,V as L,m as F,W as U,v as j,X as J,Y as M,n as C,g as b,Z as K,_ as Q,e as $,$ as k,a0 as ee,a1 as ae,a2 as re,a3 as ne,u as Y,a4 as se,a5 as te,a6 as q,a7 as ie,x as ue,a8 as fe,a9 as le,S as _e,aa as ce,d as w,ab as ve,P as B,ac as de}from"./runtime.DJIhzSjh.js";import{p as oe}from"./events.QTIgbNMG.js";import{s as be,g as Ee}from"./index.DMOy1tU5.js";function Ie(e,a,n=!1){R&&H();var r=e,u=null,t=null,l=J,g=n?V:0,c=!1;const _=(f,i=!0)=>{c=!0,m(i,f)},m=(f,i)=>{if(l===(l=f))return;let v=!1;if(R){const E=r.data===z;!!l===E&&(r=W(),X(r),D(!1),v=!0)}l?(u?L(u):i&&(u=F(()=>i(r))),t&&U(t,()=>{t=null})):(t?L(t):i&&(t=F(()=>i(r))),u&&U(u,()=>{u=null})),v&&D(!0)};Z(()=>{c=!1,a(_),c||m(null,null)},g),R&&(r=j)}let h=!1,A=Symbol();function Pe(e,a,n){const r=n[a]??(n[a]={store:null,source:M(void 0),unsubscribe:C});if(r.store!==e&&!(A in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=C;else{var u=!0;r.unsubscribe=be(e,t=>{u?r.source.v=t:$(r.source,t)}),u=!1}return e&&A in n?Ee(e):b(r.source)}function Te(e,a){return e.set(a),a}function Re(){const e={};function a(){K(()=>{for(var n in e)e[n].unsubscribe();Q(e,A,{enumerable:!1,value:!0})})}return[e,a]}function Ae(){h=!0}function Se(e){var a=h;try{return h=!1,[e(),h]}finally{h=a}}function x(e){for(var a=B,n=B;a!==null&&!(a.f&(se|te));)a=a.parent;try{return q(a),e()}finally{q(n)}}function Oe(e,a,n,r){var N;var u=(n&ie)!==0,t=!ue||(n&fe)!==0,l=(n&le)!==0,g=(n&de)!==0,c=!1,_;l?[_,c]=Se(()=>e[a]):_=e[a];var m=_e in e||ce in e,f=l&&(((N=k(e,a))==null?void 0:N.set)??(m&&a in e&&(s=>e[a]=s)))||void 0,i=r,v=!0,E=!1,O=()=>(E=!0,v&&(v=!1,g?i=Y(r):i=r),i);_===void 0&&r!==void 0&&(f&&t&&ee(),_=O(),f&&f(_));var d;if(t)d=()=>{var s=e[a];return s===void 0?O():(v=!0,E=!1,s)};else{var p=x(()=>(u?w:ve)(()=>e[a]));p.f|=ae,d=()=>{var s=b(p);return s!==void 0&&(i=void 0),s===void 0?i:s}}if(!(n&re))return d;if(f){var G=e.$$legacy;return function(s,o){return arguments.length>0?((!t||!o||G||c)&&f(o?d():s),s):d()}}var I=!1,y=!1,P=M(_),S=x(()=>w(()=>{var s=d(),o=b(P);return I?(I=!1,y=!0,o):(y=!1,P.v=s)}));return u||(S.equals=ne),function(s,o){if(arguments.length>0){const T=o?b(S):t&&l?oe(s):s;return S.equals(T)||(I=!0,$(P,T),E&&i!==void 0&&(i=T),Y(()=>b(S))),s}return b(S)}}export{Pe as a,Te as b,Ie as i,Ae as m,Oe as p,Re as s};
