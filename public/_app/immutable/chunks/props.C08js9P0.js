import{V as B,$ as h,g as l,a9 as M,aa as Y,e as C,ab as $,ac as x,ad as G,ae as V,af as j,u as D,ag as z,ah as H,ai as L,aj as Z,a1 as J,ak as K,al as Q,S as W,am as X,d as y,P as k,D as N,an as ee}from"./runtime.CRowtBbc.js";import{p as re}from"./events.BqHwmKXL.js";import{s as ae,g as ne}from"./index.RIEEZAD_.js";let o=!1,I=Symbol();function fe(e,r,n){const u=n[r]??(n[r]={store:null,source:B(void 0),unsubscribe:h});if(u.store!==e&&!(I in n))if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=h;else{var c=!0;u.unsubscribe=ae(e,i=>{c?u.source.v=i:C(u.source,i)}),c=!1}return e&&I in n?ne(e):l(u.source)}function _e(e,r){return e.set(r),r}function le(){const e={};function r(){M(()=>{for(var n in e)e[n].unsubscribe();Y(e,I,{enumerable:!1,value:!0})})}return[e,r]}function ce(){o=!0}function ue(e){var r=o;try{return o=!1,[e(),o]}finally{o=r}}function w(e){for(var r=N,n=N;r!==null&&!(r.f&(z|H));)r=r.parent;try{return L(r),e()}finally{L(n)}}function ve(e,r,n,u){var T;var c=(n&Z)!==0,i=!J||(n&K)!==0,b=(n&Q)!==0,U=(n&ee)!==0,O=!1,s;b?[s,O]=ue(()=>e[r]):s=e[r];var q=W in e||X in e,v=b&&(((T=$(e,r))==null?void 0:T.set)??(q&&r in e&&(a=>e[r]=a)))||void 0,t=u,S=!0,P=!1,R=()=>(P=!0,S&&(S=!1,U?t=D(u):t=u),t);s===void 0&&u!==void 0&&(v&&i&&x(),s=R(),v&&v(s));var f;if(i)f=()=>{var a=e[r];return a===void 0?R():(S=!0,P=!1,a)};else{var p=w(()=>(c?y:k)(()=>e[r]));p.f|=G,f=()=>{var a=l(p);return a!==void 0&&(t=void 0),a===void 0?t:a}}if(!(n&V))return f;if(v){var F=e.$$legacy;return function(a,_){return arguments.length>0?((!i||!_||F||O)&&v(_?f():a),a):f()}}var g=!1,A=!1,m=B(s),d=w(()=>y(()=>{var a=f(),_=l(m);return g?(g=!1,A=!0,_):(A=!1,m.v=a)}));return c||(d.equals=j),function(a,_){if(arguments.length>0){const E=_?l(d):i&&b?re(a):a;return d.equals(E)||(g=!0,C(m,E),P&&t!==void 0&&(t=E),D(()=>l(d))),a}return l(d)}}export{fe as a,_e as b,ce as m,ve as p,le as s};
